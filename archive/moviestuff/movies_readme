for movies to be created, get a range close to the slip and record it, 
follwing data will record the slip toandfrodistance
polymer mentonset   tyronePset  tyroneSet3
alagly  0-3500
alanine 0-3500
glycine 0-3500
asparagine  0-3500
threonine   0-3000
isoleucine  0-3500
valine  0-3500

****
modify presentation such that 
5 strands with MCMC are displayed but SCSC_MCMC with only chain C,
one such view and segregated view 

cd polyalanine_default
rm temp.dcd processed/stick* processed/slip*
mdconvert before_mini/alanine_z_autopsf.pdb -o temp.dcd
catdcd -o processed/stick1_1.dcd -first 0 -last 2650 processed/wowaterpulling.dcd #2650
catdcd -o processed/slip1_1.dcd -first 2650 -last 2812 processed/wowaterpulling.dcd #162
catdcd -o processed/stick2_1.dcd -first 2813 -last 4800 processed/wowaterpulling.dcd #1987
catdcd -o processed/slip2_1.dcd -first 4800 -last 5000 processed/wowaterpulling.dcd #200
catdcd -o processed/stick1.dcd  processed/stick1_1.dcd temp.dcd
catdcd -o processed/stick2.dcd  processed/stick2_1.dcd temp.dcd
catdcd -o processed/slip1.dcd  processed/slip1_1.dcd temp.dcd
catdcd -o processed/slip2.dcd  processed/slip2_1.dcd temp.dcd

cd ../polyala-gly
rm temp.dcd processed/stick* processed/slip*
mdconvert before_mini/alagly_z_autopsf.pdb -o temp.dcd
catdcd -o processed/stick1_1.dcd -first 0 -last 2600 processed/wowaterpulling.dcd #2600
catdcd -o processed/slip1_1.dcd -first 2600 -last 2638 processed/wowaterpulling.dcd #38
catdcd -o processed/stick2_1.dcd -first 2638 -last 4937 processed/wowaterpulling.dcd #2299
catdcd -o processed/slip2_1.dcd -first 4937 -last 4976 processed/wowaterpulling.dcd #39
catdcd -o processed/stick1.dcd  processed/stick1_1.dcd temp.dcd
catdcd -o processed/stick2.dcd  processed/stick2_1.dcd temp.dcd
catdcd -o processed/slip1.dcd  processed/slip1_1.dcd temp.dcd
catdcd -o processed/slip2.dcd  processed/slip2_1.dcd temp.dcd

cd ../polyglycine
rm temp.dcd processed/stick* processed/slip*
mdconvert before_mini/glycine_z_autopsf.pdb -o temp.dcd
catdcd -o processed/stick1_1.dcd -first 0 -last 2530 processed/wowaterpulling.dcd #2530
catdcd -o processed/slip1_1.dcd -first 2530 -last 2557 processed/wowaterpulling.dcd #27
catdcd -o processed/stick2_1.dcd -first 2557 -last 3647 processed/wowaterpulling.dcd #1090
catdcd -o processed/slip2_1.dcd -first 3647 -last 3674 processed/wowaterpulling.dcd # 27
catdcd -o processed/stick1.dcd  processed/stick1_1.dcd temp.dcd
catdcd -o processed/stick2.dcd  processed/stick2_1.dcd temp.dcd
catdcd -o processed/slip1.dcd  processed/slip1_1.dcd temp.dcd
catdcd -o processed/slip2.dcd  processed/slip2_1.dcd temp.dcd


import subprocess,os
def mover(directory):
    if not os.path.isdir(os.path.join(directory,'combined')):
        os.makedirs(os.path.join(directory,'combined'))
    count=0
    lis=['stick1','slip1','stick2','slip2']
    for i in lis:
        temp_lis=[k for k in os.listdir(os.path.join(directory,i)) if k.split(".")[-1]=='ppm']
        templis=[[int(i.split('.')[1]),i] for i in temp_lis]
        templis.sort()
        for j in templis:
            subprocess.check_output(['cp',os.path.join(directory,i,j[1]),os.path.join(directory,'combined','%03d'%count+'.ppm')])
            count+=1
mover("polyalanine_default")
mover('polyglycine')

from PIL import Image
import os
def converter(sourcedir,destdir):
    if not os.path.isdir(destdir):
        os.makedirs(destdir)
    directoryfiles=os.listdir(sourcedir)
    lis=[[int(i.split('.')[0]),i] for i in directoryfiles]
    lis.sort()
    for ind,val in enumerate([j[1] for j in lis]):
        im = Image.open("%s/%s"%(sourcedir,val))
        im.save("%s/%03d.jpg"%(destdir,ind))

converter("polyalanine_default/combined/","polyalanine_default/jpegfiles/")   
converter("polyglycine/combined/","polyglycine/jpegfiles/")  

ffmpeg -f image2 -i polyalanine_default/jpegfiles/%3d.jpg -vcodec mpeg4 -b 10000k alanine.mpeg
ffmpeg -f image2 -i polyglycine/jpegfiles/%3d.jpg -vcodec mpeg4 -b 10000k glycine.mpeg
ffmpeg -f image2 -i polyglycine/jpegfiles/%3d.jpg -vcodec mpeg4 -b 10000k -filter:v "setpts=2.0*PTS" -qscale 1 glycine.mpeg



import cv2
import os

def imagetovideo(imagedir,videoloc)
    images = [img for img in os.listdir(imagedir) if img.endswith(".jpg")]
    images.sort()
    frame = cv2.imread(os.path.join(imagedir, images[0]))
    height, width, layers = frame.shape
    video = cv2.VideoWriter(videoloc, 0, 1, (width,height))
    for image in images:
        video.write(cv2.imread(os.path.join(imagedir, image)))
    cv2.destroyAllWindows()
    video.release()




#modify folder contents and dcd construction, do it before the above
#change dcd in filetype above

cd /home/paras/paras_CSB/projects/silk_7strand/complete7strand3sheets_pulling_middle/menton_set/polythreonine/


mdconvert before_mini/*autopsf.pdb -o temp.dcd
catdcd -o processed/t1.dcd -first 1000 -last 3500 processed/wowaterpulling.dcd
catdcd -o processed/represnetationMovie.dcd  processed/t1.dcd temp.dcd
rm processed/t1.dcd temp.dcd processed/stick* processed/slip*


cd ../polyasparagine/
mdconvert before_mini/*autopsf.pdb -o temp.dcd
catdcd -o processed/t1.dcd -first 1000 -last 3500 processed/wowaterpulling.dcd
catdcd -o processed/represnetationMovie.dcd  processed/t1.dcd temp.dcd
rm processed/t1.dcd temp.dcd processed/stick* processed/slip* complete_desi*

cd ../polyisoleucine/
mdconvert before_mini/*autopsf.pdb -o temp.dcd
catdcd -o processed/t1.dcd -first 1000 -last 3500 processed/wowaterpulling.dcd
catdcd -o processed/represnetationMovie.dcd  processed/t1.dcd temp.dcd
rm processed/t1.dcd temp.dcd processed/stick* processed/slip* complete_desi*

cd ../polyvaline/
mdconvert before_mini/*autopsf.pdb -o temp.dcd
catdcd -o processed/t1.dcd -first 1000 -last 3500 processed/wowaterpulling.dcd
catdcd -o processed/represnetationMovie.dcd  processed/t1.dcd temp.dcd
rm processed/t1.dcd temp.dcd processed/stick* processed/slip* complete_desi*

cd ../polyalanine_default/
mdconvert before_mini/*autopsf.pdb -o temp.dcd
catdcd -o processed/t1.dcd -first 1000 -last 3500 processed/wowaterpulling.dcd
catdcd -o processed/represnetationMovie.dcd  processed/t1.dcd temp.dcd
rm processed/t1.dcd temp.dcd processed/stick* processed/slip* complete_desi*

cd ../polyglycine/
mdconvert before_mini/*autopsf.pdb -o temp.dcd
catdcd -o processed/t1.dcd -first 1000 -last 3500 processed/wowaterpulling.dcd
catdcd -o processed/represnetationMovie.dcd  processed/t1.dcd temp.dcd
rm processed/t1.dcd temp.dcd processed/stick* processed/slip* complete_desi*

cd ../polyala-gly/
mdconvert before_mini/*autopsf.pdb -o temp.dcd
catdcd -o processed/t1.dcd -first 1000 -last 3500 processed/wowaterpulling.dcd
catdcd -o processed/represnetationMovie.dcd  processed/t1.dcd temp.dcd
rm processed/t1.dcd temp.dcd processed/stick* processed/slip* complete_desi*

cd ../../tyroneP_set/polythreonine/
mdconvert before_mini/*autopsf.pdb -o temp.dcd
catdcd -o processed/t1.dcd -first 1000 -last 3500 processed/wowaterpulling.dcd
catdcd -o processed/represnetationMovie.dcd  processed/t1.dcd temp.dcd
rm processed/t1.dcd temp.dcd processed/stick* processed/slip* complete_desi*

cd ../polyasparagine/
mdconvert before_mini/*autopsf.pdb -o temp.dcd
catdcd -o processed/t1.dcd -first 1000 -last 3500 processed/wowaterpulling.dcd
catdcd -o processed/represnetationMovie.dcd  processed/t1.dcd temp.dcd
rm processed/t1.dcd temp.dcd processed/stick* processed/slip* complete_desi*

cd ../polyisoleucine/
mdconvert before_mini/*autopsf.pdb -o temp.dcd
catdcd -o processed/t1.dcd -first 1000 -last 3500 processed/wowaterpulling.dcd
catdcd -o processed/represnetationMovie.dcd  processed/t1.dcd temp.dcd
rm processed/t1.dcd temp.dcd processed/stick* processed/slip* complete_desi*

cd ../polyvaline/
mdconvert before_mini/*autopsf.pdb -o temp.dcd
catdcd -o processed/t1.dcd -first 1000 -last 3500 processed/wowaterpulling.dcd
catdcd -o processed/represnetationMovie.dcd  processed/t1.dcd temp.dcd
rm processed/t1.dcd temp.dcd processed/stick* processed/slip* complete_desi*

cd ../polyalanine_default/
mdconvert before_mini/*autopsf.pdb -o temp.dcd
catdcd -o processed/t1.dcd -first 1000 -last 3500 processed/wowaterpulling.dcd
catdcd -o processed/represnetationMovie.dcd  processed/t1.dcd temp.dcd
rm processed/t1.dcd temp.dcd processed/stick* processed/slip* complete_desi*

cd ../polyglycine/
mdconvert before_mini/*autopsf.pdb -o temp.dcd
catdcd -o processed/t1.dcd -first 1000 -last 3500 processed/wowaterpulling.dcd
catdcd -o processed/represnetationMovie.dcd  processed/t1.dcd temp.dcd
rm processed/t1.dcd temp.dcd processed/stick* processed/slip* complete_desi*

cd ../polyala-gly/
mdconvert before_mini/*autopsf.pdb -o temp.dcd
catdcd -o processed/t1.dcd -first 1000 -last 3500 processed/wowaterpulling.dcd
catdcd -o processed/represnetationMovie.dcd  processed/t1.dcd temp.dcd
rm processed/t1.dcd temp.dcd processed/stick* processed/slip* complete_desi*

cd ../../tyrone_set3/polythreonine/
mdconvert before_mini/*autopsf.pdb -o temp.dcd
catdcd -o processed/t1.dcd -first 1000 -last 3500 processed/wowaterpulling.dcd
catdcd -o processed/represnetationMovie.dcd  processed/t1.dcd temp.dcd
rm processed/t1.dcd temp.dcd processed/stick* processed/slip* complete_desi*

cd ../polyasparagine/
mdconvert before_mini/*autopsf.pdb -o temp.dcd
catdcd -o processed/t1.dcd -first 1000 -last 3500 processed/wowaterpulling.dcd
catdcd -o processed/represnetationMovie.dcd  processed/t1.dcd temp.dcd
rm processed/t1.dcd temp.dcd processed/stick* processed/slip* complete_desi*

cd ../polyisoleucine/
mdconvert before_mini/*autopsf.pdb -o temp.dcd
catdcd -o processed/t1.dcd -first 1000 -last 3500 processed/wowaterpulling.dcd
catdcd -o processed/represnetationMovie.dcd  processed/t1.dcd temp.dcd
rm processed/t1.dcd temp.dcd processed/stick* processed/slip* complete_desi*

cd ../polyvaline/
mdconvert before_mini/*autopsf.pdb -o temp.dcd
catdcd -o processed/t1.dcd -first 1000 -last 3500 processed/wowaterpulling.dcd
catdcd -o processed/represnetationMovie.dcd  processed/t1.dcd temp.dcd
rm processed/t1.dcd temp.dcd processed/stick* processed/slip* complete_desi*

cd ../polyalanine_default/
mdconvert before_mini/*autopsf.pdb -o temp.dcd
catdcd -o processed/t1.dcd -first 1000 -last 3500 processed/wowaterpulling.dcd
catdcd -o processed/represnetationMovie.dcd  processed/t1.dcd temp.dcd
rm processed/t1.dcd temp.dcd processed/stick* processed/slip* complete_desi*

cd ../polyglycine/
mdconvert before_mini/*autopsf.pdb -o temp.dcd
catdcd -o processed/t1.dcd -first 1000 -last 3500 processed/wowaterpulling.dcd
catdcd -o processed/represnetationMovie.dcd  processed/t1.dcd temp.dcd
rm processed/t1.dcd temp.dcd processed/stick* processed/slip* complete_desi*

cd ../polyala-gly/
mdconvert before_mini/*autopsf.pdb -o temp.dcd
catdcd -o processed/t1.dcd -first 1000 -last 3500 processed/wowaterpulling.dcd
catdcd -o processed/represnetationMovie.dcd  processed/t1.dcd temp.dcd
rm processed/t1.dcd temp.dcd processed/stick* processed/slip* complete_desi*



#set 5 strands with MCMC repr, divide inb three files, one with both SCCS and MCSC
cd /home/paras/paras_CSB/projects/silk_7strand/complete7strand3sheets_pulling_middle/mentonset/polythreonine/

cp complete_desi* ../polyasparagine/
cp complete_desi* ../polyisoleucine/
cp complete_desi* ../polyvaline/
cp complete_desi* ../polyalanine_default/
cp complete_desi* ../polyglycine/
cp complete_desi* ../polyala-gly/

cp complete_desi* ../../tyroneP_set/polythreonine/
cp complete_desi* ../../tyroneP_set/polyasparagine/
cp complete_desi* ../../tyroneP_set/polyisoleucine/
cp complete_desi* ../../tyroneP_set/polyvaline/
cp complete_desi* ../../tyroneP_set/polyalanine_default/
cp complete_desi* ../../tyroneP_set/polyglycine/
cp complete_desi* ../../tyroneP_set/polyala-gly/

cp complete_desi* ../../tyrone_set3/polythreonine/
cp complete_desi* ../../tyrone_set3/polyasparagine/
cp complete_desi* ../../tyrone_set3/polyisoleucine/
cp complete_desi* ../../tyrone_set3/polyvaline/
cp complete_desi* ../../tyrone_set3/polyalanine_default/
cp complete_desi* ../../tyrone_set3/polyglycine/
cp complete_desi* ../../tyrone_set3/polyala-gly/

cd
mkdir movie
mkdir -p menton_set/polyasparagine/
mkdir -p menton_set/polyisoleucine/
mkdir -p menton_set/polyvaline/
mkdir -p menton_set/polyalanine_default/
mkdir -p menton_set/polyglycine/
mkdir -p menton_set/polyala-gly/
mkdir -p menton_set/polythreonine/

mkdir -p tyroneP_set/polyasparagine/
mkdir -p tyroneP_set/polyisoleucine/
mkdir -p tyroneP_set/polyvaline/
mkdir -p tyroneP_set/polyalanine_default/
mkdir -p tyroneP_set/polyglycine/
mkdir -p tyroneP_set/polyala-gly/
mkdir -p tyroneP_set/polythreonine/

mkdir -p tyrone_set3/polyasparagine/
mkdir -p tyrone_set3/polyisoleucine/
mkdir -p tyrone_set3/polyvaline/
mkdir -p tyrone_set3/polyalanine_default/
mkdir -p tyrone_set3/polyglycine/
mkdir -p tyrone_set3/polyala-gly/
mkdir -p tyrone_set3/polythreonine/

parentdir=["tyroneP_set","tyrone_set3","menton_set"]
poldir=["polyalanine_default","polyala-gly","polyglycine","polyasparagine","polythreonine","polyisoleucine","polyvaline"]
outdirimages="moviesjpeg"
outdirmovies="moviesplayabale"

import os 
from PIL import Image
def converter(sourcedir,destdir): 
    if not os.path.isdir(destdir): 
        os.makedirs(destdir) 
    directoryfiles=os.listdir(sourcedir) 
    lis=[[int(i.split('.')[1]),i,i.split('.')[0]] for i in directoryfiles if 'par' not in i] 
    mkdirlis=set([i[2] for i in lis]) 
    for i in mkdirlis: 
        dirname=os.path.join(destdir,i) 
        if not os.path.isdir(dirname): 
            os.makedirs(dirname) 
    lis.sort() 
    for ind,val in enumerate( lis ): 
        im = Image.open("%s/%s"%(sourcedir,val[1])) 
        im.save("%s/%s/%04d.jpg"%(destdir,val[2],int(val[0]))) 

converter("movie/","movie_jpeg/")

ffmpeg -f image2 -i movie_jpeg/VerticalSideStackviewnotMCMC/%4d.jpg -b 20000k -vcodec mpeg4 -vf select="gte(n\, 1000)" VerticalSideStackviewnotMCMC.mp4
ffmpeg -f image2 -i movie_jpeg/axialviewnotMCMC/%4d.jpg -b 20000k -vcodec mpeg4 -vf select="gte(n\, 1000)" axialviewnotMCMC.mp4

ffmpeg -f image2 -i movie_jpeg/VerticalSideStackView/%4d.jpg -b 20000k -vcodec mpeg4 -vf select="gte(n\, 1000)" VerticalSideStackView.mp4
ffmpeg -f image2 -i movie_jpeg/AxialView/%4d.jpg -b 20000k -vcodec mpeg4 -vf select="gte(n\, 1000)" AxialView.mp4




####Tue 20 oct 2020 ####
parentdir=["tyroneP_set","tyrone_set3","menton_set"]
poldir=["polyalanine_default","polyala-gly","polyglycine","polyasparagine","polythreonine","polyisoleucine","polyvaline"]
outdirimages="moviesjpeg"
outdirmovies="moviesplayabale"
cd movie

In [11]: import os  
    ...: from PIL import Image 
    ...: import subprocess 
    ...: def converter(sourcedir,destdir):  
    ...:     if not os.path.isdir(destdir):  
    ...:         os.makedirs(destdir) 
    ...:       
    ...:     directoryfiles=[i for i in os.listdir(sourcedir) if 'par' not in i]  
    ...:     directoryfiles.sort()  
    ...:     if not len(directoryfiles)==len(destdir): 
    ...:         for ind,val in enumerate(directoryfiles): 
    ...:             ele=val.split('.') 
    ...:             im = Image.open("%s/%s"%(sourcedir,val))  
    ...:             im.save("%s/%04d.jpg"%(destdir,int(ele[1])))  
    ...:             
In [14]: if not os.path.isdir(outdirimages):  
    ...:     os.makedirs(outdirimages) 
    ...: if not os.path.isdir(outdirmovies):  
    ...:     os.makedirs(outdirmovies) 
    ...: for parent in parentdir: 
    ...:     for child in poldir: 
    ...:         movieadd=os.path.join(outdirmovies,parent+'__'+child+'.mp4') 
    ...:         if not os.path.isfile(movieadd): 
    ...:             inpdir=os.path.join(parent,child) 
    ...:             if not os.path.isdir(os.path.join(outdirimages,parent)):  
    ...:                 os.makedirs(os.path.join(outdirimages,parent)) 
    ...:             outtemp=os.path.join(outdirimages,parent,child) 
    ...:             print (outtemp,movieadd) 
    ...:             print ('ffmpeg -f image2 -i %s/%%4d.jpg -b 20000k -vcodec mpeg4 %s'%(outtemp, movieadd)) 
    ...:             converter(inpdir,outtemp) 
exit


ffmpeg -f image2 -i moviesjpeg/tyroneP_set/polyalanine_default/%4d.jpg -b 20000k -vcodec mpeg4 moviesplayabale/tyroneP_set__polyalanine_default.mp4

ffmpeg -f image2 -i moviesjpeg/tyroneP_set/polyala-gly/%4d.jpg -b 20000k -vcodec mpeg4 moviesplayabale/tyroneP_set__polyala-gly.mp4

ffmpeg -f image2 -i moviesjpeg/tyroneP_set/polyglycine/%4d.jpg -b 20000k -vcodec mpeg4 moviesplayabale/tyroneP_set__polyglycine.mp4

ffmpeg -f image2 -i moviesjpeg/tyroneP_set/polyasparagine/%4d.jpg -b 20000k -vcodec mpeg4 moviesplayabale/tyroneP_set__polyasparagine.mp4

ffmpeg -f image2 -i moviesjpeg/tyroneP_set/polythreonine/%4d.jpg -b 20000k -vcodec mpeg4 moviesplayabale/tyroneP_set__polythreonine.mp4

ffmpeg -f image2 -i moviesjpeg/tyroneP_set/polyisoleucine/%4d.jpg -b 20000k -vcodec mpeg4 moviesplayabale/tyroneP_set__polyisoleucine.mp4

ffmpeg -f image2 -i moviesjpeg/tyroneP_set/polyvaline/%4d.jpg -b 20000k -vcodec mpeg4 moviesplayabale/tyroneP_set__polyvaline.mp4

ffmpeg -f image2 -i moviesjpeg/tyrone_set3/polyalanine_default/%4d.jpg -b 20000k -vcodec mpeg4 moviesplayabale/tyrone_set3__polyalanine_default.mp4

ffmpeg -f image2 -i moviesjpeg/tyrone_set3/polyala-gly/%4d.jpg -b 20000k -vcodec mpeg4 moviesplayabale/tyrone_set3__polyala-gly.mp4

ffmpeg -f image2 -i moviesjpeg/tyrone_set3/polyglycine/%4d.jpg -b 20000k -vcodec mpeg4 moviesplayabale/tyrone_set3__polyglycine.mp4

ffmpeg -f image2 -i moviesjpeg/tyrone_set3/polyasparagine/%4d.jpg -b 20000k -vcodec mpeg4 moviesplayabale/tyrone_set3__polyasparagine.mp4

ffmpeg -f image2 -i moviesjpeg/tyrone_set3/polythreonine/%4d.jpg -b 20000k -vcodec mpeg4 moviesplayabale/tyrone_set3__polythreonine.mp4

ffmpeg -f image2 -i moviesjpeg/tyrone_set3/polyisoleucine/%4d.jpg -b 20000k -vcodec mpeg4 moviesplayabale/tyrone_set3__polyisoleucine.mp4

ffmpeg -f image2 -i moviesjpeg/tyrone_set3/polyvaline/%4d.jpg -b 20000k -vcodec mpeg4 moviesplayabale/tyrone_set3__polyvaline.mp4

ffmpeg -f image2 -i moviesjpeg/menton_set/polyalanine_default/%4d.jpg -b 20000k -vcodec mpeg4 moviesplayabale/menton_set__polyalanine_default.mp4

ffmpeg -f image2 -i moviesjpeg/menton_set/polyala-gly/%4d.jpg -b 20000k -vcodec mpeg4 moviesplayabale/menton_set__polyala-gly.mp4

ffmpeg -f image2 -i moviesjpeg/menton_set/polyglycine/%4d.jpg -b 20000k -vcodec mpeg4 moviesplayabale/menton_set__polyglycine.mp4

ffmpeg -f image2 -i moviesjpeg/menton_set/polyasparagine/%4d.jpg -b 20000k -vcodec mpeg4 moviesplayabale/menton_set__polyasparagine.mp4

ffmpeg -f image2 -i moviesjpeg/menton_set/polythreonine/%4d.jpg -b 20000k -vcodec mpeg4 moviesplayabale/menton_set__polythreonine.mp4

ffmpeg -f image2 -i moviesjpeg/menton_set/polyisoleucine/%4d.jpg -b 20000k -vcodec mpeg4 moviesplayabale/menton_set__polyisoleucine.mp4

ffmpeg -f image2 -i moviesjpeg/menton_set/polyvaline/%4d.jpg -b 20000k -vcodec mpeg4 moviesplayabale/menton_set__polyvaline.mp4

#vmd -e complete_designall.tcl 
use above file in polypolymer folder
